<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Recheio Case Study</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.css" />
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet">
  

  <style>
    :root {
      --dark-green: #2E5E45;
      --green: #4E8065;
      --light-green: #7BA898;
      --lighter-green: #A8D0C0;
      --light-brown: #5D4848;
      --dark-brown: #4E2323;
      --light-beige: #FFF3E5;
      --beige: #FFDDBF;
      --glow-color: rgba(168, 208, 192, 0.4);
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      margin: 0;
      font-family: 'Outfit', sans-serif;
      background-color: var(--green);
      color: var(--light-beige);
      overflow-x: hidden;
      line-height: 1.6;
    }

    canvas {
      position: fixed;
      top: 0;
      left: 0;
      z-index: 0;
      opacity: 0.2;
    }

    .content {
      position: relative;
      z-index: 1;
    }


    .section {
      min-height: 100vh;
      padding: 20px 20px;
      display: flex;
      justify-content: center;
      align-items: center;
      text-align: center;
      opacity: 0;
      transform: translateY(50px);
      transition: opacity 1s ease, transform 1s ease;
    }

    .section.visible {
      opacity: 1;
      transform: translateY(0);
    }

    .hero {
      background-color: transparent;
    }

    .go-back-btn {
      position: fixed;
      top: 20px;
      left: 20px;
      z-index: 100;
      display: inline-flex;
      align-items: center;
      padding: 8px 16px;
      background-color: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(5px);
      color: var(--light-beige);
      text-decoration: none;
      border-radius: 30px;
      font-weight: 500;
      transition: all 0.3s ease;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .go-back-btn:hover {
      background-color: rgba(255, 255, 255, 0.2);
      transform: translateX(-3px);
    }

    .go-back-btn::before {
      content: "⬅";
      margin-right: 5px;
      transition: transform 0.3s ease;
    }

    .go-back-btn:hover::before {
      transform: translateX(-3px);
    }

    h1 {
      font-size: 3rem;
      max-width: 800px;
      margin: 0 auto;
      line-height: 1.2;
      text-shadow: 0 0 10px rgba(255,255,255,0);
      transition: text-shadow 0.5s ease;
    }

    h1:hover {
      text-shadow: 0 0 10px var(--glow-color), 
                   0 0 20px var(--glow-color);
    }

    p {
      font-size: 1.1rem;
      color: var(--light-beige);
      font-weight: 400;
      max-width: 700px;
      margin: 20px auto;
      line-height: 1.7;
      opacity: 0.9;
      text-align: justify;
      text-align-last: center;
    }

    p strong {
      color: var(--dark-brown);
      font-weight: 700;
    }

    g {
      display: block;
      font-size: 1rem;
      color: var(--light-beige);
      font-weight: 400;
      max-width: 700px;
      margin: 20px auto;
      line-height: 1.7;
      opacity: 0.9;
      text-align: justify;
      text-align-last: left;
    }


    g strong {
      color: var(--dark-brown);
      font-weight: 700;
    }

    .btn {
      display: inline-block;
      background-color: var(--light-green);
      color: var(--light-beige);
      padding: 12px 30px;
      border-radius: 30px;
      text-decoration: none;
      font-weight: 500;
      margin-top: 20px;
      transition: all 0.3s ease;
    }

    .btn:hover {
      background-color: var(--light-green);
      transform: translateY(-3px);
      box-shadow: 0 0 15px var(--glow-color);
    }

    .logo {
      width: 180px;
      margin: 2% auto 0; /* Changed from margin-top: 2% */
      display: block;
      filter: drop-shadow(0 0 10px rgba(0,0,0,0.2));
    }

    .carousel-container {
      width: 100%;
      max-width: 1200px;
      margin: 40px auto;
      position: relative;
    }

    .swiper {
      width: 100%;
      height: 100%;
    }

    .swiper-slide {
      background-color: var(--beige);
      backdrop-filter: blur(10px);
      border-radius: 10px;
      padding: 4rem;
      min-height: 370px;
      max-width: 300px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      box-shadow: 0 4px 4px rgba(0, 0, 0, 0.15);
    }


    .swiper-slide p:first-child {
      font-size: 1.3rem;
      font-weight: 600;
      color: var(--light-brown);
      margin-bottom: 0.5rem;
    }

    .swiper-slide p:last-child {
      color: var(--light-brown);
      font-size: 1rem;
      margin: 0;
    }

    .swiper-pagination-bullet {
      background: var(--light-green);
    }

    .slide-img {
      max-width: 100%;
      border-radius: 10px;
      margin: 20px 0;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    }

    .tabs {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      margin-bottom: 1.5rem;
      margin-top: 1.5rem;
      gap: 3rem;
    }

    .tab-btn {
      padding: 10px 20px;
      background-color: var(--dark-green);
      border: none;
      border-radius: 8px;
      color: var(--lighter-green);
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 0.9rem;
    }

    .tab-btn:hover {
      background-color: rgba(168, 208, 192, 0.3);
    }

    .tab-btn.active {
      background-color: var(--lighter-green);
      color: var(--dark-green);
      font-weight: 600;
    }

    .tab-content {
      display: none;
      background-color: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(5px);
      padding: 1.5rem;
      border-radius: 10px;
      max-width: 700px;
      margin: 0 auto;
    }

    .tab-content p {
      margin: 0;
      text-align: left;
      font-size: 1rem;
      line-height: 1.8;
    }

    .swiper-slide p {
      color: var(--light-brown);
    }

    .tab-content.active {
      display: block;
      animation: fadeIn 0.5s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .viz-section {
      position: relative;
      min-height: 250vh;
      background-color: transparent;
    }

    .viz-container {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1;
      pointer-events: none;
    }

    .viz-background {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: var(--light-brown);
      opacity: 0;
      transition: opacity 0.5s ease-out;
    }

    .viz-svg-wrapper {
      position: relative;
      width: 100vmin;
      height: 100vmin;
      transform-origin: center center;
    }

    .viz-svg {
      width: 100%;
      height: 100%;
      /* Critical quality preservation properties */
      image-rendering: optimizeQuality;
      shape-rendering: geometricPrecision;
      text-rendering: geometricPrecision;

    }

    .viz-note {
      position: absolute;
      top: 10%;
      left: 10%;
      opacity: 0;
      transform: translateY(-10px);
      transition: opacity 0.5s ease, transform 0.5s ease;
      pointer-events: none;
      z-index: 10;
      max-width: 300px;

    }

    .viz-note.show {
      opacity: 1;
      transform: translateY(0);
    }

    .note-text {
      background: var(--light-beige);
      color: var(--light-brown);
      padding: 12px 16px;
      border-radius: 10px;
      font-size: 1rem;
      box-shadow: 0 3px 8px rgba(0, 0, 0, 0.15);
      white-space: normal;
      line-height: 1.4;
      text-align: justify;
      text-align-last: center;
    }

    .note-arrow {
      width: 0;
      height: 0;
      border-left: 10px solid transparent;
      border-right: 10px solid transparent;
      border-top: 12px solid var(--light-beige);
      margin: 0 auto;
    }

    .carousel-viewport {
      width: 100%;
      overflow: hidden;
    }

    .carousel-track {
      display: flex;
      transition: transform 0.5s ease-out;
      will-change: transform;
      padding: 40px 0;
    }

    .slide-wrapper {
      flex: 0 0 calc(100% / 3);
      display: flex;
      justify-content: center;
      padding: 0 10px;
      box-sizing: border-box;
      transition: all 0.3s ease;
    }

    .slide {
      width: 100%;
      max-width: 400px;
      transition: all 0.4s ease;
      position: relative;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 10px 30px rgba(0,0,0,0.15);
      cursor: pointer;
    }

    .slide img {
      width: 100%;
      height: auto;
      display: block;
      border-radius: 12px;
      transition: transform 0.4s ease;
      object-fit: contain;
    }

    .slide.active {
      transform: scale(1.1);
      z-index: 2;
      box-shadow: 0 8px 15px rgba(0,0,0,0.3);
    }

    .slide:not(.active) {
      opacity: 0.8;
      filter: brightness(0.9);
      transform: scale(0.9);
    }

    .carousel-nav {
      display: flex;
      justify-content: center;
      margin-top: 30px;
      gap: 10px;
    }

    .nav-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background-color: var(--lighter-green);
      opacity: 0.4;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .nav-dot.active {
      opacity: 1;
      transform: scale(1.3);
      background-color: var(--light-beige);
    }

    .carousel-arrows {
      position: absolute;
      top: 50%;
      width: 100%;
      display: flex;
      justify-content: space-between;
      transform: translateY(-50%);
      pointer-events: none;
      padding: 0 30px;
      box-sizing: border-box;
      z-index: 10;
    }

    .carousel-arrow {
      pointer-events: auto;
      background: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(5px);
      border: none;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s ease;
      color: var(--light-beige);
      font-size: 1.5rem;
    }

    .carousel-arrow:hover {
      background: rgba(255, 255, 255, 0.3);
      transform: scale(1.1);
    }

    /* Zoom Modal */
    .zoom-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.9);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease;
    }

    .zoom-modal.active {
      opacity: 1;
      pointer-events: auto;
    }

    .zoom-content {
      max-width: 90%;
      max-height: 90%;
    }

    .zoom-content img {
      max-width: 100%;
      max-height: 90vh;
      object-fit: contain;
    }

    .close-zoom {
      position: absolute;
      top: 20px;
      right: 20px;
      color: white;
      font-size: 2rem;
      cursor: pointer;
    }
 

        /*------------------------------------------ footer */

    footer {
        background-color: var(--dark-green);
        color: var(--light-beige);
        padding: 3rem 2rem;
        text-align: center;
    }

    footer h2 {
        margin-bottom: 1rem;
        font-size: 1.5rem;
        color: var(--light-beige);
    }

    /* Email Button - Fixed */
    footer .btn.light.footer {
        background-color: var(--light-beige);
        color: var(--dark-green);
        font-weight: bold;
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        padding: 0.75rem 1.5rem;
        border-radius: 8px;
        margin-bottom: 1.5rem;
        margin-top: 2rem;
    }

    footer p {
        margin-top: 2rem;
        font-size: 0.875rem;
        font-weight: 500; 
        color: var(--light-beige);
    }

    footer .socials {
        margin: 0rem 0;
        display: flex;
        flex-direction: row;
        justify-content: center;
        gap: 1rem;
    }

    footer .socials img {
        width: 40px;
        height: 40px;
    }


    .social-btn {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 0.5rem;
        text-decoration: none;
        padding: 0rem;
    }


    .social-btn span {
        color: var(--light-beige);
        opacity: 0;
        transform: translateY(-5px);
        transition: 
            opacity 0.3s ease,
            transform 0.3s ease,
            color 0.3s ease;
        font-weight: 500;
        order: 2;
    }

    .social-btn:hover span {
        opacity: 1;
        transform: translateY(0);
        color: var(--lighter-green); /* this ensures the hover color */
    }

    .social-btn img {
        width: 32px;
        height: 32px;
        transition: transform 0.3s ease, filter 0.3s ease;
    }

    .social-btn:hover img {
        transform: scale(1.2);
        color: var(--lighter-green);
    }

    .social-btn span {
        color: var(--light-beige) !important;
    }

    .social-btn:hover span {
        color: var(--lighter-green) !important;
    }


    /*_______________________________________________________
    /* back to top button */

    #backToTop {
        position: fixed;
        bottom: 30px;
        right: 30px;
        padding: 0.7rem 1.1rem;
        font-size: 1.2rem;
        background-color: var(--light-beige);
        color: var(--green);
        border: none;
        border-radius: 10px;
        cursor: pointer;
        opacity: 0;
        transition: opacity 0.3s ease;
        z-index: 1000;
    }

    #backToTop.show {
        opacity: 1;
    }

    #scrollProgressBar {
    position: fixed;
    right: 0.5rem;
    top: 0;
    width: 6px;
    height: 0;
    background-color: var(--light-beige);
    z-index: 999;
    transition: height 0.25s ease;
    border-radius: 3px;
    }
  </style>
</head>
<body>
  <canvas id="network-canvas"></canvas>

  <div class="content">
    <a href="index.html#recent-work" class="go-back-btn">Back to Case Studies</a>
    <img src="images/recheio.png" alt="Recheio Logo" class="logo" />

    <section class="section hero">
      <div>   
        <h1>“Eventually everything connects - people, ideas, objects.”<span style="font-style: italic; font-weight: 400; font-size: 1.5rem;">&#8212; Charles Eames</span></h1>
        <p>Using this logic, our project explored how mapping relationships through network science could drive smarter product recommendations in B2B retail.</p>
        <a href="#approach" class="btn">Explore the Approach</a>
        <p style="font-style: italic; font-size: 0.8rem;">Due to NDA restrictions, specific data or client outcomes cannot be disclosed. This page focuses on the methodology and design process behind the solution.</p>
      </div>
    </section>

    <section class="section" id="approach">
      <div>
        <h1>Business Understanding</h1>
        <p>Recheio is part of <strong>Jerónimo Martins</strong>, a leading food distribution
           group in Portugal, Poland and Colombia. Being part of a competitive market with thin margins, and having a 
           growing B2B base — especially in the <strong>HoReCa</strong> segment — Recheio 
           embarked on a digital transformation journey to work on personalization and increase 
           customer retention.<strong>   Our goal:</strong> use existing transactional data to deliver smarter, 
           context-aware product recommendations that improves the customer experience, with 
           minimal operational cost.</p>
      </div>
    </section>

    <section class="section">
      <div>
        <h1>Addressed Challenges</h1>
        <p>During this project, we needed to address two main challenges: <strong>(1) Data 
          quality and completeness</strong> — enriching customer data with behavioral and 
          business-specific attributes, and <strong>(2) Recommender system</strong> — delivering 
          personalized recommendations through the right channels. Key obstacles 
          included limited customer metadata, the need for product-brand structuring, 
          and designing a recommendation engine that balanced retail margin constraints 
          with behavioral data patterns. For instance, prioritizing private-label 
          brands—such as Amanhecer and Masterchef—was critical to profitability, 
          demanded attention in our solution.</p>
      </div>
    </section>

    <section class="section">
      <div>
        <h1>Data Preparation Steps</h1>  <!-- if i remove it from here it becomes different from the other titles -->
        <div class="carousel-container">
            <div class="swiper">
                <div class="swiper-wrapper">
                    <div class="swiper-slide">
                        <p>Geographic Enrichment</p>
                        <p>For the client dimension, one of the first initiatives we implemented was deriving district and county information to visualize the geographic distribution of our clients. This was achieved using an API provided by CTT (the Portuguese postal service).</p>
                    </div>
                    <div class="swiper-slide">
                        <p>Behavioral KPIs</p>
                        <p>Recency (Days Since Last Purchase), Visits Count, Products per Visit, Unique Products Purchased, and Activity Patterns (eg. Monthly Transaction Variability (Standard Deviation), Active Months, Average Days Between Purchases, etc.).</p>
                    </div>
                    <div class="swiper-slide">
                        <p>Brand Detection</p>
                        <p>We performed text mining on product names and developed a custom scraper to extract product–brand associations directly from Recheio's public website. This was strictly for academic purposes, with a high response delay (~5000ms) to ensure ethical usage and prevent overloading the site.</p>
                    </div>
                    <div class="swiper-slide">
                        <p>Margin Strategy</p>
                        <p>To optimize profitability, we applied margin-based prioritization in the recommender algorithm, ensuring that higher-margin products (private-label) were given more weight in recommendations while still maintaining customer relevance.</p>
                    </div>
                </div>
                <div class="swiper-pagination"></div>
            </div>
        </div>
      </div>
    </section>

    <!-- Presentation carousel will go here later -->

    <section class="section">
      <div>
        <h1>Graph-Based Data Modeling</h1>
        <p>We explored a new way to achieve predictive influence in communities using 
          graph algorithms. Handling millions of transactions benefits from a database 
          built for big data, which is why we chose <strong>Neo4j</strong> — a native graph platform that 
          stores transactional data and runs graph algorithms efficiently.
          When recommending products, it’s crucial to understand who the influencers are in a 
          community, what they buy, and which trends they create. <strong>Graphs mathematically represent 
          these networks, covering areas like transactions, logistics, commerce, transportation, 
          and movement.</strong> Our Cross-Connect method links different entities — people, products, locations — 
          based on shared relationships, providing the foundation for many recommendation systems and 
          in-store flow analysis. This allows us to answer questions such as: Which paths do customers 
          take most often? Which corridors hold their attention the longest?</p>
        <img src="images/data_schema.svg" alt="Graph Schema" class="slide-img" />
      </div>
    </section>

    <section class="section title-section">
      <div>   
        <h1>Community Detection</h1>
          <p>To construct client communities from behavioural data, we project a bipartite Neo4j graph with <strong>Client</strong> and <strong>Product</strong> nodes linked by <strong>BOUGHT</strong> relationships, capturing all purchase interactions. 
            From this, we create a client similarity graph: pairs of clients who co-purchased products are connected by weighted 
            <strong>PRODUCT_SIMILAR</strong> edges, collapsing the bipartite structure into a direct client-to-client network. 
            We then run the <strong>Louvain community detection algorithm</strong>, which assigns a community label to each 
            client, grouping them into ‘clusters’ based on connected subgraphs, each community representing a  cohort of customers with <strong>similar shopping behaviour.</strong></p>
      </div>
    </section>

    <section class="section viz-section" id="viz-section">
      <!-- Visualization trigger section -->
    </section>

    <div class="viz-container">
      <div class="viz-background"></div>
      <div class="viz-svg-wrapper">
        <img src="images/recheio_comm2.svg" class="viz-svg" alt="Network Visualization">
      </div>
      <div class="viz-note" id="viz-note">
        <div class="note-text">Our analysis identified distinct client communities, which we categorized based on their unique purchasing behaviors. For instance, Community X demonstrated near-daily purchases of prepared fresh vegetables, earning them the "Veggie Group" designation, while Community Y's exclusive seasonal purchases of professional-grade gelato warranted their "Ice Cream Specialists" label.</div>
        <div class="note-arrow"></div>
      </div>
    </div>

    <section class="section">
      <div>
        <h1>Recommendation Touchpoints</h1>
            <div class="tabs">
                <button class="tab-btn active" data-tab="home">Home Page</button>
                <button class="tab-btn" data-tab="product">Product View</button>
            <button class="tab-btn" data-tab="basket">Basket</button>
            </div>
            <div id="home" class="tab-content active">
            <g><strong>Your Usuals (Smart Basket):</strong> A rule-based engine that 
              adapts to shopping activity. For <strong>New Users</strong> (no purchase 
              history), the system recommends the most popular items in the month of 
              login. <strong>Light Shoppers</strong> (1–4 unique products) include past 
              purchases, then fill with Market Basket Analysis (MBA) “Goes well with…” 
              rules and similar products. Lastly, <strong>Heavy Users</strong> (5+ 
              unique products) display their most frequent items from the last 6 months, 
              considering the login date.</g>
            <g><strong>Popular at This Moment:</strong> Captures <strong>community-driven 
              trends using a progressive time-decay window</strong> approach. Clients are 
              grouped into their communities, and for each one we use the login date to scan 
              product purchases in shrinking windows (7–180 days). This prioritizes products 
              that are locally popular, timely with seasonal patterns, and stable over time. 
              If data is sparse, the system backs off to larger windows or all-time popular 
              items, ensuring consistent recommendations even for small communities.</g>
            <g><strong>Specially for You (Peer-Based Recommendations):</strong> This block delivers 
              peer-based personalization through a two-stage hybrid approach: PageRank runs on the 
              client-product similarity graph to identify influential clients, users who contribute 
              to product connectivity through co-purchase behaviour. These candidates are filtered 
              via Jaccard similarity, retaining only those with real behavioural overlap with the 
              target user. Products are then ranked by a similarity-weighted score, highlighting 
              items similar clients bought but the user has not yet purchased.</g>
            </div>
            <div id="product" class="tab-content">
            <g><strong>Similar Products:</strong> This module identifies the products most similar to the one currently viewed. The primary logic matches products within the same category and from the list of private-label 
              brands (e.g., Amanhecer, Masterchef, Gourmês). Similarity is derived from the precomputed score we referred to before. If fewer than five suitable items are found, the system falls back to similar 
              products regardless of category, still prioritizing those from preferred brands. </g>
            <g><strong>Frequently Bought Together:</strong> This section leverages Market Basket Analysis 
              (MBA) rules generated from historical purchase data using the Apriori Algorithm. Products 
              are shown if they frequently appear as consequents in association rules where the current 
              product was an antecedent, indicating a strong behavioural link ("people who bought this 
              also bought..."). All rules are refreshed regularly and stored in Neo4j with full metadata 
              (support, confidence, lift, leverage, conviction), allowing for future model interpretability 
              and explainability.</g>
            <g><strong>Recently Viewed:</strong> Session-based navigation support.</g>
            </div>
            <div id="basket" class="tab-content">
            <g><strong>Did You Forget?</strong> Cross-checks Smart Basket against cart to detect missing products, and if needed, applies fallback logic using MBA and similar product graphs.</g>
            <g><strong>Based on Your Style:</strong>  Analyses saved recipes and suggests missing ingredients that align with the client’s current cart and preferences, creating a bridge between content-driven and transactional behaviours. </g>
            <g><strong>Trending Now:</strong> Real-time filtering of popular items not yet added.</g>
            </div>
      </div>
    </section>

    <section class="section">
      <div>
        <h1>Loyalty Program: Recheado Rewards</h1>
        <p>The real game-changer involves <strong>rethinking the client relationship by incentivizing data sharing 
          through gamification</strong> (many clients simply will not complete their profile unless there is a strong 
          reason). We propose a loyalty initiative called the ‘Recheado Rewards Program’, a gamification-driven loyalty 
          scheme designed to reward engagement and strengthen client relationships. 
          Clients progress through reward tiers by completing profiles, 
          placing orders via app, and consistent engagement. Rewards include discounts, 
          early access to promotions, and free delivery. Each level aligns proportionally 
          with client size and behavior.</p>
      </div>
    </section>

    <section class="section">
      <div>
        <h1>Board Presentation Slides</h1>

        <div class="carousel-container">
          <div class="carousel-viewport">
            <div class="carousel-track">
              <div class="slide-wrapper">
                <div class="slide">
                  <img src="images/case-1=Variant1.png" alt="Slide 1" />
                </div>
              </div>
              <div class="slide-wrapper">
                <div class="slide">
                  <img src="images/case-1=Variant2.png" alt="Slide 2" />
                </div>
              </div>
              <div class="slide-wrapper">
                <div class="slide active">
                  <img src="images/case-1=Variant3.png" alt="Slide 3" />
                </div>
              </div>
              <div class="slide-wrapper">
                <div class="slide">
                  <img src="images/case-1=Variant4.png" alt="Slide 4" />
                </div>
              </div>
              <div class="slide-wrapper">
                <div class="slide">
                  <img src="images/case-1=Variant5.png" alt="Slide 5" />
                </div>
              </div>
              <div class="slide-wrapper">
                <div class="slide">
                  <img src="images/case-1=Variant6.png" alt="Slide 6" />
                </div>
              </div>
              <div class="slide-wrapper">
                <div class="slide">
                  <img src="images/case-1=Variant7.png" alt="Slide 7" />
                </div>
              </div>
              <div class="slide-wrapper">
                <div class="slide">
                  <img src="images/case-1=Variant8.png" alt="Slide 8" />
                </div>
              </div>
              <div class="slide-wrapper">
                <div class="slide">
                  <img src="images/case-1=Variant9.png" alt="Slide 9" />
                </div>
              </div>
              <div class="slide-wrapper">
                <div class="slide">
                  <img src="images/case-1=Variant10.png" alt="Slide 10" />
                </div>
              </div>
              <div class="slide-wrapper">
                <div class="slide">
                  <img src="images/case-1=Variant11.png" alt="Slide 11" />
                </div>
              </div>
              <div class="slide-wrapper">
                <div class="slide">
                  <img src="images/case-1=Variant12.png" alt="Slide 12" />
                </div>
              </div>
            </div>
          </div>

          <div class="carousel-arrows">
            <button class="carousel-arrow prev">❮</button>
            <button class="carousel-arrow next">❯</button>
          </div>

          <div class="carousel-nav"></div>
        </div>

        <p style="font-style: italic; font-size: 0.8rem;">Due to NDA restrictions, some slides were excluded.</p>
      </div>
    </section>

    <!-- Zoom Modal -->
    <div class="zoom-modal">
      <span class="close-zoom">&times;</span>
      <div class="zoom-content">
        <img src="" alt="Zoomed Slide">
      </div>
    </div>

    <footer>
        <div class="wrapper">
            <h1>Let’s work together!</h1>
            
            <div class="contact-buttons">
                <a href="#" class="btn light footer">Contact Me</a>
                <div class="socials">
                    <a href="https://www.linkedin.com/in/catarina-gn-nunes" class="social-btn" target="_blank" rel="noopener noreferrer">
                        <img src="images/Linkedin.svg" alt="LinkedIn" />
                        <span>LinkedIn</span>
                    </a>
                    <a href="https://github.com/CatarinaGN" class="social-btn" target="_blank" rel="noopener noreferrer">
                        <img src="images/Github.svg" alt="GitHub" />
                        <span>GitHub</span>
                    </a>
                </div>
             </div>

             <p class="copyright">
                &copy; 2025 Catarina Gonçalves Nunes. All rights reserved. All sensitive data and proprietary information has been anonymized or omitted in compliance with NDA requirements.
            </p>
        </div>
    </footer>


    <button id="backToTop" title="Back to top">⬆</button>
    <div id="scrollProgressBar"></div>

  </div>

  <script src="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.js"></script>
  <script>
    const canvas = document.getElementById("network-canvas");
    const ctx = canvas.getContext("2d");

    let width = window.innerWidth;
    let height = window.innerHeight;

    canvas.width = width;
    canvas.height = height;

    // Create nodes
    const nodes = [];
    const nodeCount = 80;
    const maxConnections = 4;
    const connectionDistance = 200;
    let allPossibleConnections = [];
    
    class Node {
      constructor(id) {
        this.id = id;
        this.resetPosition();
        this.vx = (Math.random() - 0.5) * 0.5;
        this.vy = (Math.random() - 0.5) * 0.5;
        this.size = 2 + Math.random() * 2;
        this.connections = [];
        this.highlight = false;
        this.pulse = 0;
        this.targetPulse = 0;
      }

      resetPosition() {
        this.x = Math.random() * width;
        this.y = Math.random() * height;
      }

      update() {
        // Organic movement
        this.x += this.vx;
        this.y += this.vy;
        
        // Bounce off edges
        if (this.x < 0 || this.x > width) this.vx *= -1;
        if (this.y < 0 || this.y > height) this.vy *= -1;
        
        // Smooth pulse animation
        if (this.highlight) {
          this.targetPulse = 1;
        } else {
          this.targetPulse = 0;
        }
        this.pulse += (this.targetPulse - this.pulse) * 0.1;
      }

      draw() {
        // Draw glow if highlighted
        if (this.highlight) {
          const pulseSize = this.size + this.pulse * 2;
          ctx.shadowBlur = 5 + this.pulse * 5;
          ctx.shadowColor = 'rgba(168, 208, 192, 0.5)';
          ctx.fillStyle = 'rgba(168, 208, 192, 0.6)';
          
          // Draw pulse effect
          ctx.beginPath();
          ctx.arc(this.x, this.y, pulseSize, 0, Math.PI * 2);
          ctx.fillStyle = 'rgba(168, 208, 192, 0.1)';
          ctx.fill();
        }
        
        // Draw node
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
        ctx.fillStyle = `rgba(255, 255, 255, ${0.5 + Math.random() * 0.3})`;
        ctx.fill();
      }
    }

    // Initialize nodes
    function initNodes() {
      nodes.length = 0;
      for (let i = 0; i < nodeCount; i++) {
        nodes.push(new Node(i));
      }
    }

    // Calculate all possible connections
    function calculateConnections() {
      allPossibleConnections = [];
      for (let i = 0; i < nodes.length; i++) {
        for (let j = i + 1; j < nodes.length; j++) {
          const dx = nodes[i].x - nodes[j].x;
          const dy = nodes[i].y - nodes[j].y;
          const distance = Math.sqrt(dx * dx + dy * dy);
          
          if (distance < connectionDistance * 1.5) {
            allPossibleConnections.push({
              from: i,
              to: j,
              distance: distance,
              strength: 1 - (distance / (connectionDistance * 1.5))
            });
          }
        }
      }
      // Sort connections by distance (closest first)
      allPossibleConnections.sort((a, b) => a.distance - b.distance);
    }

    function updateConnections(scrollProgress) {
      // Reset all connections and highlights
      nodes.forEach(node => {
        node.connections = [];
        node.highlight = false;
      });
      
      // Calculate how many connections should be active
      const totalConnections = Math.floor(scrollProgress * allPossibleConnections.length * 0.7);
      
      // Activate connections
      for (let i = 0; i < totalConnections && i < allPossibleConnections.length; i++) {
        const conn = allPossibleConnections[i];
        const fromNode = nodes[conn.from];
        const toNode = nodes[conn.to];
        
        // Only connect if both nodes have available slots
        if (fromNode.connections.length < maxConnections && toNode.connections.length < maxConnections) {
          // Check if connection already exists
          if (!fromNode.connections.includes(conn.to) && !toNode.connections.includes(conn.from)) {
            fromNode.connections.push(conn.to);
            toNode.connections.push(conn.from);
            
            // Highlight connections more subtly and consistently
            if (Math.random() > 0.05) {
              fromNode.highlight = true;
              toNode.highlight = true;
            }
          }
        }
      }
    }

    function drawConnections() {
      nodes.forEach(node => {
        node.connections.forEach(targetId => {
          const target = nodes[targetId];
          
          ctx.beginPath();
          ctx.moveTo(node.x, node.y);
          ctx.lineTo(target.x, target.y);
          
          // Style based on highlight status
          if (node.highlight || target.highlight) {
            ctx.strokeStyle = `rgba(168, 208, 192, ${0.3 + node.pulse * 0.3})`;
            ctx.lineWidth = 1;
            ctx.shadowBlur = 5;
            ctx.shadowColor = 'rgba(168, 208, 192, 0.3)';
          } else {
            ctx.strokeStyle = 'rgba(255, 255, 255, 0.15)';
            ctx.lineWidth = 0.5;
            ctx.shadowBlur = 0;
          }
          
          ctx.stroke();
        });
      });
    }

    function animate() {
      ctx.clearRect(0, 0, width, height);
      
      // Calculate scroll progress (0 to 1)
      const scrollY = window.scrollY;
      const maxScroll = document.body.scrollHeight - window.innerHeight;
      const scrollProgress = Math.min(scrollY / maxScroll, 1);
      
      // Update connections based on scroll
      updateConnections(scrollProgress);
      
      // Update nodes
      nodes.forEach(node => node.update());
      
      // Draw connections
      drawConnections();
      
      // Draw nodes (after connections so they appear on top)
      ctx.shadowBlur = 0;
      nodes.forEach(node => node.draw());
      
      requestAnimationFrame(animate);
    }

    // Initialize everything
    function init() {
      initNodes();
      calculateConnections();
      animate();
    }

    // Start everything
    init();

    // Handle resize
    function handleResize() {
      width = window.innerWidth;
      height = window.innerHeight;
      canvas.width = width;
      canvas.height = height;
      
      // Reset node positions and recalculate connections
      nodes.forEach(node => node.resetPosition());
      calculateConnections();
    }

    window.addEventListener("resize", handleResize);

    // Reveal sections on scroll
    const sections = document.querySelectorAll('.section');
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
        }
      });
    }, {
      threshold: 0.1
    });

    sections.forEach(section => {
      observer.observe(section);
    });

    // Make hero section visible immediately
    document.querySelector('.hero').classList.add('visible');

    const backToTopBtn = document.getElementById("backToTop");

    window.addEventListener("scroll", () => {
    if (window.scrollY > 300) {
        backToTopBtn.classList.add("show");
    } else {
        backToTopBtn.classList.remove("show");
    }
    });

    backToTopBtn.addEventListener("click", () => {
    window.scrollTo({ top: 0, behavior: "smooth" });
    });

    const scrollProgressBar = document.getElementById("scrollProgressBar");

    window.addEventListener("scroll", () => {
    const scrollTop = window.scrollY;
    const docHeight = document.body.scrollHeight - window.innerHeight;
    const scrollPercent = (scrollTop / docHeight) * 100;
    scrollProgressBar.style.height = `${scrollPercent}%`;
    });


    const swiper = new Swiper('.swiper', {
        loop: true,
        autoplay: {
            delay: 5000,
            disableOnInteraction: false,
        },
        pagination: {
            el: '.swiper-pagination',
            clickable: true,
        },
        effect: 'coverflow', // Add this for better visual effect
        grabCursor: true,
        centeredSlides: true,
        slidesPerView: 'auto',
        loop: true,
        coverflowEffect: {
            rotate: 20,
            stretch: 0,
            depth: 100,
            modifier: 1,
            slideShadows: true,
        },
    });


    // start autoplay when section visible
    const swiperSection = document.querySelector('.carousel-container');
    const swiperObserver = new IntersectionObserver((entries) => {
        if (entries[0].isIntersecting) {
            swiper.autoplay.start();
        }
    }, { threshold: 0.5 });

    swiperObserver.observe(swiperSection);


    // Community section background effect

    document.addEventListener('DOMContentLoaded', function () {
      const vizSection = document.getElementById('viz-section');
      const vizBackground = document.querySelector('.viz-background');
      const vizSvgWrapper = document.querySelector('.viz-svg-wrapper');
      const vizSvg = document.querySelector('.viz-svg');
      const vizNote = document.getElementById('viz-note');

      const enforceQuality = () => {
        vizSvg.style.imageRendering = 'optimizeQuality';
        vizSvg.style.transform = 'translateZ(0)';
      };

      // Load image
      const img = new Image();
      img.src = 'images/recheio_comm2.svg';
      img.onload = function () {
        vizSvg.src = this.src;
        enforceQuality();
      };

      function updateAnimation() {
        const scrollY = window.scrollY;
        const sectionTop = vizSection.offsetTop;
        const sectionHeight = vizSection.offsetHeight;
        const viewportHeight = window.innerHeight;

        let progress =
          (scrollY - sectionTop + viewportHeight * 0.3) /
          (sectionHeight - viewportHeight * 0.3);
        progress = Math.min(Math.max(progress, 0), 1);

        if (progress > 0 && progress < 1) {
          let scale = 0;
          let opacity = 1;

          if (progress <= 0.20) {
            const phaseProgress = progress / 0.20;
            scale = 0.3 + (10 - 0.3) * phaseProgress;
            opacity = phaseProgress;
          } else if (progress <= 0.40) {
            const phaseProgress = (progress - 0.20) / 0.20;
            scale = 10 + (15 - 10) * phaseProgress;
            opacity = 1;
          } else {
            const phaseProgress = (progress - 0.40) / 0.60;
            scale = 15 + (25 - 15) * phaseProgress;
            opacity = 1 - phaseProgress;
          }

          vizSvgWrapper.style.transform = `scale(${scale}) translateZ(0)`;
          vizSvgWrapper.style.opacity = opacity;
          vizBackground.style.opacity = opacity;

          if (progress >= 0.10 && progress <= 0.40) {
            vizNote?.classList.add('show');
          } else {
            vizNote?.classList.remove('show');
          }
        } else {
          vizSvgWrapper.style.opacity = '0';
          vizSvgWrapper.style.transform = 'scale(0.3) translateZ(0)';
          vizBackground.style.opacity = '0';
          vizNote?.classList.remove('show');
        }
      }

      // Attach scroll and resize
      window.addEventListener('scroll', updateAnimation);
      window.addEventListener('resize', updateAnimation);
      updateAnimation(); // Initial
    });



    // Tab functionality
    const tabBtns = document.querySelectorAll('.tab-btn');
    const tabContents = document.querySelectorAll('.tab-content');

    tabBtns.forEach(btn => {
      btn.addEventListener('click', () => {
        // Remove active class from all buttons and contents
        tabBtns.forEach(b => b.classList.remove('active'));
        tabContents.forEach(c => c.classList.remove('active'));
        
        // Add active class to clicked button and corresponding content
        btn.classList.add('active');
        const tabId = btn.getAttribute('data-tab');
        document.getElementById(tabId).classList.add('active');
      });
    });
    
    // Initialize horizontal image carousel
    document.addEventListener('DOMContentLoaded', function() {
      const track = document.querySelector('.carousel-track');
      const slides = Array.from(document.querySelectorAll('.slide'));
      const slideWrappers = Array.from(document.querySelectorAll('.slide-wrapper'));
      const nav = document.querySelector('.carousel-nav');
      const prevBtn = document.querySelector('.prev');
      const nextBtn = document.querySelector('.next');
      const zoomModal = document.querySelector('.zoom-modal');
      const zoomImg = document.querySelector('.zoom-content img');
      const closeZoom = document.querySelector('.close-zoom');
      
      let currentIndex = 0; // Start with center slide active
      
      // Create navigation dots
      slides.forEach((_, index) => {
        const dot = document.createElement('div');
        dot.classList.add('nav-dot');
        dot.addEventListener('click', () => goToSlide(index));
        nav.appendChild(dot);
      });
      
      // Set initial active dot
      updateNav();
      updateCarousel();
      
      // Arrow navigation
      prevBtn.addEventListener('click', () => {
        goToSlide(currentIndex - 1);
      });
      
      nextBtn.addEventListener('click', () => {
        goToSlide(currentIndex + 1);
      });
      
      // Keyboard navigation
      document.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowLeft') {
          goToSlide(currentIndex - 1);
        } else if (e.key === 'ArrowRight') {
          goToSlide(currentIndex + 1);
        } else if (e.key === 'Escape') {
          closeZoomModal();
        }
      });
      
      // Click to zoom functionality
      slides.forEach(slide => {
        slide.addEventListener('click', function() {
          const imgSrc = this.querySelector('img').src;
          zoomImg.src = imgSrc;
          zoomModal.classList.add('active');
          document.body.style.overflow = 'hidden';
        });
      });
      
      // Close zoom modal
      closeZoom.addEventListener('click', closeZoomModal);
      zoomModal.addEventListener('click', function(e) {
        if (e.target === zoomModal) {
          closeZoomModal();
        }
      });
      
      function closeZoomModal() {
        zoomModal.classList.remove('active');
        document.body.style.overflow = '';
      }
      
      function updateCarousel() {
        // Calculate offset to center the active slide
        const viewportWidth = document.querySelector('.carousel-viewport').offsetWidth;
        const slideWrapperWidth = slideWrappers[0].offsetWidth;
        const offset = (viewportWidth / 2) - (slideWrapperWidth / 2) - (currentIndex * slideWrapperWidth);
        
        track.style.transform = `translateX(${offset}px)`;
        
        slides.forEach((slide, index) => {
          if (index === currentIndex) {
            slide.classList.add('active');
          } else {
            slide.classList.remove('active');
          }
        });
        
        updateNav();
      }
      
      function goToSlide(index) {
        if (index < 0) {
          index = slides.length - 1;
        } else if (index >= slides.length) {
          index = 0;
        }
        
        currentIndex = index;
        updateCarousel();
      }
      
      function updateNav() {
        const dots = document.querySelectorAll('.nav-dot');
        dots.forEach((dot, index) => {
          if (index === currentIndex) {
            dot.classList.add('active');
          } else {
            dot.classList.remove('active');
          }
        });
      }
      
      // Handle window resize
      window.addEventListener('resize', updateCarousel);
    });

  </script>
  
</body>
</html>

